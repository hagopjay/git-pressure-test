name: Basic Pressure Test

on:
  push:
    branches: [ master ]
  workflow_dispatch:

jobs:
  test-job:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout repository
      uses: actions/checkout@v4

    - name: Environment variables test
      run: |
        echo "Testing GitHub Actions runner"
        echo "Runner OS: ${{ runner.os }}"
        echo "Runner arch: ${{ runner.arch }}"
        echo "GitHub ref: ${{ github.ref }}"

    - name: CPU stress test
      run: |
        echo "Starting CPU stress test..."
        for i in {1..5}; do
          echo "Stress iteration $i"
          sha256sum /dev/zero
        done

    - name: Memory test
      run: |
        echo "Memory allocation test"
        python3 -c "x = ' ' * 100000000; print(f'Allocated {len(x)} bytes')"
